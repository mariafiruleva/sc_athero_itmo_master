Building DAG of jobs...
Singularity image location: /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg
Using shell: /bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	add_uns_to_h5ad
	1	all
	1	run_analysis
	3
Resources before job selection: {'_cores': 4, '_nodes': 9223372036854775807}
Ready jobs (1):
	run_analysis
Selected jobs (1):
	run_analysis
Resources after job selection: {'_cores': 3, '_nodes': 9223372036854775806}

[Mon Nov 23 14:45:02 2020]
rule run_analysis:
    input: /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824181/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824182/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824183/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824184/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824185/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824186/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824187/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824188/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824189/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824190/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824191/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824192/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824193/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824194/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824195/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824196/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824197/counts.RData, /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/SRS4824198/counts.RData
    output: GSE131776.h5ad, GSE131776.RData
    log: logs/seurat.log
    jobid: 2
    benchmark: benchmarks/analysis.txt

 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'type conda'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'conda --version'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'conda info --json'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'type conda'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'conda --version'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged  --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg sh -c 'conda info --json'
 singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged --bind /mnt/tank/scratch/mfiruleva/scn/config/5d179225:/mnt/tank/scratch/mfiruleva/scn/config/5d179225 --bind /mnt/tank/scratch/mfiruleva/scn/data/GSE131776:/mnt/tank/scratch/mfiruleva/scn/data/GSE131776 --bind /mnt/tank/scratch/mfiruleva/scn/stats/summary.csv:/mnt/tank/scratch/mfiruleva/scn/stats/summary.csv --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg bash -c 'source /opt/conda/bin/activate '\''/mnt/tank/scratch/mfiruleva/scn/config/5d179225'\''; set -euo pipefail;  Rscript scripts/analysis.R 2> logs/seurat.log'
Activating singularity image /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg
Activating conda environment: /mnt/tank/scratch/mfiruleva/scn/config/5d179225
Full Traceback (most recent call last):
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/executors.py", line 2078, in run_wrapper
    run(
  File "/mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk", line 29, in __rule_run_analysis
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/shell.py", line 176, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command ' singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged --bind /mnt/tank/scratch/mfiruleva/scn/config/5d179225:/mnt/tank/scratch/mfiruleva/scn/config/5d179225 --bind /mnt/tank/scratch/mfiruleva/scn/data/GSE131776:/mnt/tank/scratch/mfiruleva/scn/data/GSE131776 --bind /mnt/tank/scratch/mfiruleva/scn/stats/summary.csv:/mnt/tank/scratch/mfiruleva/scn/stats/summary.csv --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg bash -c 'source /opt/conda/bin/activate '\''/mnt/tank/scratch/mfiruleva/scn/config/5d179225'\''; set -euo pipefail;  Rscript scripts/analysis.R 2> logs/seurat.log'' returned non-zero exit status 137.

[Mon Nov 23 16:46:50 2020]
Error in rule run_analysis:
    jobid: 2
    output: GSE131776.h5ad, GSE131776.RData
    log: logs/seurat.log (check log file(s) for error message)
    conda-env: /mnt/tank/scratch/mfiruleva/scn/config/5d179225
    shell:
        Rscript scripts/analysis.R 2> logs/seurat.log
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Full Traceback (most recent call last):
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/executors.py", line 2078, in run_wrapper
    run(
  File "/mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk", line 29, in __rule_run_analysis
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/shell.py", line 176, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command ' singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged --bind /mnt/tank/scratch/mfiruleva/scn/config/5d179225:/mnt/tank/scratch/mfiruleva/scn/config/5d179225 --bind /mnt/tank/scratch/mfiruleva/scn/data/GSE131776:/mnt/tank/scratch/mfiruleva/scn/data/GSE131776 --bind /mnt/tank/scratch/mfiruleva/scn/stats/summary.csv:/mnt/tank/scratch/mfiruleva/scn/stats/summary.csv --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg bash -c 'source /opt/conda/bin/activate '\''/mnt/tank/scratch/mfiruleva/scn/config/5d179225'\''; set -euo pipefail;  Rscript scripts/analysis.R 2> logs/seurat.log'' returned non-zero exit status 137.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/executors.py", line 493, in _callback
    raise ex
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/concurrent/futures/thread.py", line 57, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/executors.py", line 479, in cached_or_run
    run_func(*args)
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages/snakemake/executors.py", line 2160, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in line 12 of /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk:
Command ' singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged --bind /mnt/tank/scratch/mfiruleva/scn/config/5d179225:/mnt/tank/scratch/mfiruleva/scn/config/5d179225 --bind /mnt/tank/scratch/mfiruleva/scn/data/GSE131776:/mnt/tank/scratch/mfiruleva/scn/data/GSE131776 --bind /mnt/tank/scratch/mfiruleva/scn/stats/summary.csv:/mnt/tank/scratch/mfiruleva/scn/stats/summary.csv --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg bash -c 'source /opt/conda/bin/activate '\''/mnt/tank/scratch/mfiruleva/scn/config/5d179225'\''; set -euo pipefail;  Rscript scripts/analysis.R 2> logs/seurat.log'' returned non-zero exit status 137.
  File "/mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk", line 12, in __rule_run_analysis

RuleException:
CalledProcessError in line 12 of /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk:
Command ' singularity exec --home /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged --bind /mnt/tank/scratch/mfiruleva/scn/config/5d179225:/mnt/tank/scratch/mfiruleva/scn/config/5d179225 --bind /mnt/tank/scratch/mfiruleva/scn/data/GSE131776:/mnt/tank/scratch/mfiruleva/scn/data/GSE131776 --bind /mnt/tank/scratch/mfiruleva/scn/stats/summary.csv:/mnt/tank/scratch/mfiruleva/scn/stats/summary.csv --bind /nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/site-packages:/mnt/snakemake /mnt/tank/scratch/mfiruleva/scn/config/e78b32002e592105c700c757fbe8a8e4.simg bash -c 'source /opt/conda/bin/activate '\''/mnt/tank/scratch/mfiruleva/scn/config/5d179225'\''; set -euo pipefail;  Rscript scripts/analysis.R 2> logs/seurat.log'' returned non-zero exit status 137.
  File "/mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/rules/secondary_analysis.smk", line 12, in __rule_run_analysis
  File "/nfs/home/mfiruleva/anaconda3/envs/scn_cor/lib/python3.8/concurrent/futures/thread.py", line 57, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /mnt/tank/scratch/mfiruleva/scn/data/GSE131776/merged/.snakemake/log/2020-11-23T144501.982971.snakemake.log
unlocking
removing lock
removing lock
removed all locks
