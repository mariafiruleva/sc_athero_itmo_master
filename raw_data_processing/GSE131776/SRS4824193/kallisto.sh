mkfifo R1.gz R2.gz
curl -Ls ftp://{ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/005/SRR9130175/SRR9130175_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/006/SRR9130176/SRR9130176_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/007/SRR9130177/SRR9130177_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/008/SRR9130178/SRR9130178_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/009/SRR9130179/SRR9130179_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/000/SRR9130180/SRR9130180_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/001/SRR9130181/SRR9130181_1.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/002/SRR9130182/SRR9130182_1.fastq.gz} > R1.gz &
curl -Ls ftp://{ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/005/SRR9130175/SRR9130175_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/006/SRR9130176/SRR9130176_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/007/SRR9130177/SRR9130177_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/008/SRR9130178/SRR9130178_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/009/SRR9130179/SRR9130179_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/000/SRR9130180/SRR9130180_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/001/SRR9130181/SRR9130181_2.fastq.gz,ftp.sra.ebi.ac.uk/vol1/fastq/SRR913/002/SRR9130182/SRR9130182_2.fastq.gz} > R2.gz &
kallisto bus -i /home/Mus_musculus.GRCm38.cdna.all.idx -x 10xv2 -t 4 -o bus_out/ R1.gz R2.gz 
mkdir bus_out/tmp
bustools correct -w /files/10xv2_whitelist.txt -o bus_out/correct_output.bus bus_out/output.bus
bustools sort -t 4 -T bus_out/tmp/ -p bus_out/correct_output.bus | bustools count -o bus_out/genes -g /home/transcripts_to_genes_v2.txt -e bus_out/matrix.ec -t bus_out/transcripts.txt --genecounts -